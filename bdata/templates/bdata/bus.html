{% extends 'bdata/base.html' %}
{% load static %}
{% block title %}
Search - BUSe
{% endblock title %}

{% block header-orange %}
<div class="container" id="map-container" style="height: 500px;">
  {% for bus in buses %}
    <h1>{{ bus }}</h1>
  {% endfor %}
</div>
{% endblock %}

{% block scripts %}
<script>

  var mymap = L.map('map-container').setView([21.233762, 81.595203], 15);

  var busMarker = L.icon({
    iconUrl: '{% static '/img/bus.png' %}',
    iconSize: [60],
    iconAnchor: [20, 20]
  });

  L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
	  attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
	  maxZoom: 18,
	  id: 'mapbox.dark',
	  accessToken: 'pk.eyJ1Ijoic3JpamFuczM4IiwiYSI6ImNqemN3cHRodzAyb2ozZG94YXZwN3VkMWYifQ.pszoH4JN8jktAkXtDl40wQ'
  }).addTo(mymap);

  var marker = L.marker([21.233762, 81.595203], {icon : busMarker}).addTo(mymap);
</script>
{% endblock scripts %}